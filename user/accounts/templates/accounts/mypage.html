<!DOCTYPE html>
<html>
  <head>
    <title>마이페이지</title>
    <style>
      .profile-container {
        position: relative;
        display: inline-block;
      }
      .profile-pic {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
      }
      .no-underline {
        text-decoration: none;
        color: inherit;
        font-size: 12px;
      }
      .no-underline:hover {
        text-decoration: underline;
      }
      .post-list {
        display: none;
        margin-top: 10px;
      }
      .toggle-button {
        cursor: pointer;
        color: #007bff;
        font-weight: bold;
        text-decoration: none;
      }
      .toggle-button:hover {
        text-decoration: underline;
      }
      .toggle-section {
        display: none;
        margin-left: 20px;
        margin-top: 10px;
      }
    </style>
    <script>
      function toggleSection(sectionId) {
        var section = document.getElementById(sectionId);
        if (section.style.display === "none" || section.style.display === "") {
          section.style.display = "block";
        } else {
          section.style.display = "none";
        }
      }
    </script>
  </head>
  <body>
    <h1>마이페이지</h1>
    <a href="{% url 'accounts:home' %}">뒤로가기</a><br /><br />
    <div class="profile-container">
      {% if profile_pic_url %}
      <img src="{{ profile_pic_url }}" alt="프로필 사진" class="profile-pic" />
      {% else %}
      <img src="{% static 'images/basic_image.png' %}" alt="기본 프로필 사진" class="profile-pic" />
      {% endif %}
    </div>
    <h2>{{ nickname }}</h2>
    <p>{% if gender == 'female' %}여자아이{% elif gender == 'male' %}남자아이{% else %}미정{% endif %} {{ current_age_months }}</p>
    <p>
      <a href="{% url 'accounts:edit_profile' %}" class="no-underline">정보 수정하기 &gt;</a>
    </p>
    <br />
    <h3>
      <a href="{% url 'accounts:post_number' %}" class="toggle-button">게시글 수: {{ user_posts|length }}</a>
    </h3>

    <h3>
      <span class="toggle-button" onclick="toggleSection('scrap-section')">스크랩 수: {{ total_scraps }}</span>
    </h3>
    <div id="scrap-section" class="toggle-section">
      <ul>
        <li><a href="{% url 'accounts:scrap_post' %}">커뮤니티 게시글 ({{ scrapped_posts_count }})</a></li>
        <li><a href="{% url 'accounts:scrap_policy' %}">육아휴직 제도 ({{ scrapped_policies_count }})</a></li>
        <li><a href="{% url 'accounts:scrap_program' %}">육아휴직 프로그램 ({{ scrapped_programs_count }})</a></li>
      </ul>
    </div>
    <!--멘토링 질문-->
    <a href="{% url 'accounts:questions' %}" class="toggle-button">멘토링 질문: {{ questions|length }}</a>
    <br /><br />
    <!--멘토링 기록지-->
    <a href="{% url 'accounts:record-sheets' %}" class="toggle-button">멘토링 기록지: {{ record_sheets|length }}</a>
  </body>
</html>
